DROP DATABASE IF EXISTS hikers;
CREATE DATABASE hikers;

USE hikers;

-- 用户表 --
CREATE TABLE `user`
(
	`accountnum` INT(8) PRIMARY KEY,
	`nickname` VARCHAR(20) NOT NULL,
	`school` VARCHAR(20) ,
	`pwd` VARCHAR(20) NOT NULL,
	`integral` INT NOT NULL DEFAULT 0,
	`grade` ENUM('B','S','G','P','D','C') NOT NULL DEFAULT 'B',
	`win` INT  DEFAULT 0,
	`game_match` INT DEFAULT 0,
    `register_day` DATE
);

INSERT INTO `user` VALUES (111,'HEX','MUC','1234',300,'B',0,0,'2021-04-21'),(333,'钦钦','MUC','1234',300,'S',0,0,'2021-04-21'),(336,'琦琦','MUC','1234',300,'B',0,0,'2021-04-21'),(369,'阿奇','MUC','1234',300,'B',0,0,'2021-04-21'),(444,'依西','MUC','1234',300,'B',0,0,'2021-04-21'),(555,'才让','muc','1234',300,'B',0,0,'2021-04-21'),(567,'伍六七','玄武国大学','567',630,'P',4,22,'2021-04-21'),(3699,'Jack','MUC','1234',300,'B',0,0,'2021-04-21'),(14021,'邓酱','中央民族大学','14021',300,'S',0,3,'2021-04-21'),(36999,'棋士','MUC','1234',300,'B',0,0,'2021-04-21'),(123456,'羊羊','中央民族大学','654321',300,'S',0,1,'2021-04-21'),(369999,'CoCo','MUC','1234',300,'B',0,0,'2021-04-21'),(11111111,'AI',NULL,'asdfathrtyui',0,'B',0,8,NULL),(17010700,'廖','MUC','1234',580,'G',6,13,'2021-04-21'),(17010856,'lulu','中央民族大学','17010856',300,'S',0,0,'2021-04-21'),(17010899,'陈佳敏','中央民族大学','17010899',300,'B',0,0,'2021-04-21'),(17011058,'星晨','muc','1234',390,'S',3,7,'2021-04-21'),(19011352,'郑羊羊','信息工程学院','160020',400,'G',1,4,'2021-04-21'),(1402186277,'邓十七','中央民族大学','1402186277',300,'B',0,0,'2021-04-21');


-- 战绩表 --
CREATE TABLE `record`
(
	`redsquare` INT(8) NOT NULL,
	`bluesquare` INT(8) NOT NULL,
	`battletime` DATETIME NOT NULL,
	`manual` TEXT NOT NULL,
	`winner` ENUM('R','B','RE','BE') NOT NULL,
    `total_time` INT(8) not null,
	PRIMARY KEY(`redsquare`,`bluesquare`,`battletime`),
	FOREIGN KEY(`redsquare`) REFERENCES `user`(`accountnum`) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY(`bluesquare`) REFERENCES `user`(`accountnum`) ON UPDATE CASCADE ON DELETE CASCADE
);
INSERT INTO `record` VALUES (567,11111111,'2021-04-21 14:53:38','[2021-04-21]R(4,5);B(1,10);R(4,4);B(3,9);R(4,3);B(6,0);R(4,2);B(5,8);R(4,1);B(0,10);R(4,0);B(7,7);R(4,6);B(9,6);R(4,7);B(2,10);R(4,8);B(4,9);R(10,5);B(10,6);R(8,6);B(8,7);R(6,7);B(6,8)','B',20),(567,11111111,'2021-04-21 14:55:45','[2021-04-21]R(5,0);B(1,10);R(5,1);B(2,10);R(5,2);B(0,10);R(3,10);B(3,9);R(4,8);B(4,9);R(5,9);B(5,8);R(6,7);B(6,8);R(7,8);B(7,7);R(8,6);B(8,7);R(9,7);B(9,6);R(10,5);B(10,6)','B',20),(567,11111111,'2021-04-21 14:56:04','[2021-04-21]R(2,0);B(1,9);R(2,1);B(3,8);R(4,7);B(4,8);R(2,8);B(2,9);R(3,9);B(6,7);R(5,8);B(5,7);R(6,6);B(8,6);R(7,6);B(7,7);R(8,7);B(9,6);R(9,5);B(0,10);R(10,6);B(10,5)','B',20),(567,11111111,'2021-04-21 14:59:26','[2021-04-21]R(5,5);B(2,9);R(5,10);B(4,8);R(5,8);B(5,7);R(6,6);B(6,7);R(7,7);B(7,6);R(3,9);B(3,8);R(0,10);B(1,8);R(0,8);B(0,9);R(2,8);B(1,9);R(9,5);B(8,6);R(9,6);B(8,7);R(9,7);B(8,8);R(9,8);B(8,9);R(8,10);B(9,9);R(10,9);B(10,8)','B',20),(567,11111111,'2021-04-21 15:01:03','[2021-04-21]R(5,6);B(5,5);R(7,4);B(7,3);R(3,7);B(3,6);R(6,4);B(6,5);R(7,5);B(6,3);R(6,6);B(8,3);R(10,2);B(5,4);R(4,7);B(9,3);R(1,8);B(1,7);R(4,5);B(4,6);R(2,6);B(2,7);R(0,8);B(0,7);R(10,3);B(9,1);R(8,2);B(9,2);R(10,1);B(10,0)','B',20),(567,11111111,'2021-04-21 15:02:28','[2021-04-21]R(3,10);B(9,1);R(5,0);B(7,2);R(4,2);B(4,3);R(3,4);B(3,3);R(5,3);B(5,2);R(2,3);B(6,2);R(1,4);B(1,5);R(2,4);B(3,2);R(4,1);B(2,2);R(1,2);B(1,3);R(0,4);B(0,3);R(3,1);B(8,2);R(10,2);B(10,1)','B',20),(567,11111111,'2021-04-21 15:03:07','[2021-04-21]R(5,5);B(2,9);R(10,0);B(3,9);R(0,10);B(0,9);R(1,9);B(2,8);R(1,8);B(1,7);R(2,7);B(2,6);R(3,6);B(3,5);R(4,6);B(5,4);R(6,4);B(6,3);R(7,3);B(7,2);R(8,1);B(8,2);R(8,3);B(9,2);R(4,4);B(4,5);R(10,2);B(10,1);R(0,8);B(0,7)','B',20),(567,11111111,'2021-04-21 15:03:24','[2021-04-21]R(6,4);B(2,9);R(0,10);B(0,9);R(1,9);B(1,8);R(2,8);B(2,7);R(3,7);B(3,6);R(4,5);B(4,6);R(4,7);B(6,5);R(5,6);B(5,5);R(7,5);B(7,4);R(8,3);B(8,4);R(9,4);B(9,3);R(10,2);B(10,3)','B',20),(567,11111111,'2021-04-21 15:03:51','[2021-04-21]R(0,10);B(1,8);R(10,0);B(4,7);R(5,5);B(6,6);R(3,7);B(2,8);R(3,8);B(2,9);R(3,9);B(3,6);R(2,10);B(4,6);R(1,10);B(2,7);R(4,8);B(8,5);R(5,7);B(5,6);R(7,6);B(7,5);R(9,4);B(9,5);R(10,4);B(10,5);R(0,9);B(0,8)','B',20),(567,11111111,'2021-04-21 15:05:59','[2021-04-21]R(1,10);B(1,9);R(3,9);B(3,8);R(4,7);B(4,8);R(2,9);B(2,8);R(6,7);B(5,9);R(5,8);B(4,9);R(6,9);B(6,8);R(5,10);B(8,7);R(7,7);B(7,8);R(10,6);B(9,8);R(9,6);B(0,10);R(9,7);B(8,8);R(10,7);B(10,8)','B',20),(567,11111111,'2021-04-21 15:07:16','[2021-04-21]R(5,5);B(2,9);R(0,10);B(0,9);R(10,0);B(3,9);R(1,9);B(2,8);R(1,8);B(1,7);R(2,7);B(2,6);R(3,6);B(3,5);R(4,5);B(4,4);R(9,1);B(6,4);R(5,4);B(5,3);R(6,3);B(7,2);R(7,3);B(8,2);R(8,3);B(9,2);R(10,2);B(6,2);R(9,3);B(10,1);R(0,8);B(0,7)','B',20),(567,11111111,'2021-04-21 15:08:11','[2021-04-21]R(5,5);B(2,9);R(10,0);B(3,9);R(0,10);B(0,9);R(1,9);B(2,8);R(1,8);B(1,7);R(2,7);B(2,6);R(3,6);B(3,5);R(4,5);B(4,4);R(6,4);B(6,3);R(7,3);B(7,2);R(8,2);B(9,1);R(8,1);B(8,0);R(9,0)','R',20),(567,11111111,'2021-04-22 04:09:01','[2021-04-22]R(3,0);B(1,10);R(3,1);B(0,10);R(2,10);B(2,9);R(3,8);B(3,9);R(4,9);B(4,8);R(5,7);B(5,8);R(3,2);B(7,7);R(6,8);B(6,7);R(8,7);B(8,6);R(9,5);B(9,6);R(10,6);B(10,5)','B',20),(567,11111111,'2021-04-22 04:09:42','[2021-04-22]R(10,0);B(2,9);R(10,1);B(9,3);R(10,2);B(10,3);R(9,2);B(7,4);R(8,3);B(8,4);R(6,4);B(3,10);R(6,5);B(6,3);R(6,6);B(7,3);R(6,7);B(4,4);R(6,8);B(2,5);R(6,9);B(0,6);R(6,10);B(1,6);R(3,5);B(3,4);R(5,4);B(5,3)','B',20),(567,11111111,'2021-04-22 04:10:11','[2021-04-22]R(5,4);B(1,10);R(0,10);B(1,9);R(10,0);B(2,10);R(9,1);B(4,9);R(8,2);B(6,8);R(7,3);B(0,9);R(6,4);B(8,7);R(10,6);B(9,8);R(10,8);B(10,7);R(9,7);B(8,8);R(9,6);B(3,10);R(8,9);B(5,9);R(9,9);B(7,7)','B',20),(567,11111111,'2021-04-22 04:10:36','[2021-04-22]R(5,4);B(1,10);R(0,10);B(1,9);R(0,9);B(0,8);R(1,8);B(1,7);R(2,7);B(2,6);R(3,6);B(4,5);R(4,6);B(5,5);R(5,6);B(3,5);R(6,5);B(6,4);R(7,4);B(7,3);R(8,3);B(8,2);R(10,1);B(9,2);R(10,2);B(10,0);R(9,3);B(9,1)','B',20),(567,11111111,'2021-04-22 04:52:51','[2021-04-22]R(5,5);B(2,9);R(5,4);B(4,8);R(5,3);B(6,7);R(5,2);B(0,10);R(5,1);B(8,6);R(5,0);B(9,6);R(5,6);B(1,10);R(5,7);B(5,8);R(4,7);B(3,9);R(3,8);B(7,7);R(4,10);B(10,6)','B',20),(567,11111111,'2021-04-22 05:03:09','[2021-04-22]R(5,5);B(2,9);R(5,4);B(4,8);R(5,3);B(6,7);R(5,2);B(0,10);R(5,1);B(8,6);R(5,0);B(9,6);R(5,6);B(1,10);R(5,7);B(5,8);R(4,7);B(3,9);R(3,8);B(7,7);R(4,9);B(10,6)','B',20),(567,11111111,'2021-04-22 05:10:12','[2021-04-22]R(5,4);B(1,10);R(4,5);B(3,9);R(4,6);B(5,8);R(5,6);B(6,8);R(4,7);B(0,10);R(3,7);B(8,7);R(3,6);B(9,7);R(3,5);B(2,10);R(4,4);B(4,9);R(5,3);B(7,8);R(6,4);B(10,7)','B',20),(14021,567,'2021-04-21 15:27:06','[2021-04-21]R(5,0);B(5,4);R(4,2);B(4,4);R(3,4);B(3,5);R(2,6);B(2,5);R(0,6);B(1,5);R(0,5);B(0,4);R(1,4);B(6,4);R(3,3);B(7,4);R(9,3);B(8,4);R(10,3);B(9,4);R(10,4);B(10,5);R(9,5);B(8,5);R(10,2);B(8,6);R(8,7);B(9,6);R(10,6);B(1,6);R(0,7);B(1,7);R(0,8);B(0,9);R(1,8);B(1,9);R(2,9);B(2,8);R(3,7);B(2,7)','B',20),(14021,567,'2021-04-21 15:28:01','[2021-04-21]R(0,10);B(5,4);R(5,0);B(4,4);R(3,4);B(3,5);R(4,2);B(2,5);R(0,6);B(1,5);R(0,5);B(0,4);R(1,4);B(0,7);R(0,8);B(1,6);R(6,3);B(6,4);R(7,4);B(7,3);R(6,5);B(8,3);R(8,2);B(9,3);R(10,3);B(10,2)','B',20),(14021,567,'2021-04-21 15:29:31','[2021-04-21]R(3,5);B(5,4);R(2,7);B(4,4);R(4,3);B(3,4);R(2,4);B(2,5);R(1,6);B(1,5);R(0,5);B(1,4);R(0,4);B(1,3);R(1,2);B(0,6);R(0,3);B(6,4);R(2,1);B(7,4);R(8,4);B(8,3);R(10,2);B(9,2);R(10,1);B(9,3);R(10,3);B(9,4);R(10,4);B(10,5);R(10,6);B(9,5)','B',20),(123456,19011352,'2021-04-21 15:36:06','[2021-04-21]R(3,3);B(4,5);R(6,0);B(3,5);R(2,4);B(1,5);R(5,1);B(2,5);R(4,2);B(0,5);R(5,4);B(5,5);R(6,5);B(6,4);R(7,5);B(8,5);R(8,4);B(9,5);R(10,4);B(10,5);R(6,6);B(5,6);R(6,7);B(7,3);R(8,2);B(8,3);R(9,3);B(9,2);R(10,2);B(10,1)','B',20),(11111111,17010700,'2021-04-21 02:52:27','[2021-04-21]R(5,5);B(4,7);R(3,7);B(6,6);R(2,9);B(6,4);R(5,4);B(6,3);R(5,3);B(6,1);R(4,6);B(5,1);R(6,2);B(7,1);R(8,1);B(8,0);R(9,0);B(7,2);R(4,2);B(7,3);R(4,1);B(5,0);R(4,0);B(5,2);R(4,3);B(4,4);R(1,10);B(3,8);R(2,8)','R',20),(17010700,11111111,'2021-04-21 02:50:34','[2021-04-21]R(5,5);B(2,9);R(4,8);B(8,1);R(5,7);B(6,2);R(6,7);B(9,1);R(7,6);B(4,3);R(8,5);B(2,4);R(8,4);B(0,5);R(8,3);B(1,5);R(7,3);B(3,4);R(5,3);B(5,2);R(7,2);B(7,1);R(10,1);B(10,0)','B',20),(17010700,11111111,'2021-04-21 02:53:35','[2021-04-21]R(5,5);B(3,8);R(6,6);B(4,9);R(7,7);B(5,10);R(8,8);B(8,1);R(4,4);B(7,0);R(3,3);B(3,1);R(4,1);B(6,10);R(7,10);B(7,9);R(8,9);B(6,7);R(7,6);B(5,6);R(6,5);B(4,2);R(3,2);B(4,0);R(5,0);B(0,10);R(4,5);B(1,10);R(8,7);B(2,10);R(4,3)','R',20),(17010700,11111111,'2021-04-21 03:09:51','[2021-04-21]R(5,6);B(5,5);R(4,7);B(7,4);R(3,6);B(4,4);R(4,6);B(2,5);R(6,4);B(6,5);R(4,5);B(5,4);R(8,4);B(8,3);R(9,3);B(9,2);R(10,3);B(0,6);R(3,5);B(3,4);R(1,5);B(1,6);R(10,2);B(10,1)','B',20),(17010700,11111111,'2021-04-21 03:10:00','[2021-04-21]R(6,5);B(6,4);R(5,5);B(5,4);R(4,6);B(8,3);R(5,6);B(3,5);R(6,6);B(9,3);R(7,5);B(1,6);R(8,4);B(0,7);R(7,3);B(7,4);R(4,5);B(4,4);R(2,6);B(2,5);R(10,3);B(10,2)','B',20),(17010700,11111111,'2021-04-21 11:48:53','[2021-04-21]R(5,5);B(2,9);R(4,8);B(8,1);R(4,7);B(6,2);R(4,6);B(4,3);R(2,4);B(3,5);R(1,6);B(1,7);R(2,6);B(3,6);R(2,7);B(3,2);R(1,3);B(2,1);R(1,1);B(1,2);R(0,2);B(0,3);R(2,2);B(3,1);R(4,2);B(3,3);R(5,2);B(5,3);R(7,1);B(7,2);R(9,1);B(8,3);R(9,0);B(9,3);R(10,2);B(10,3);R(8,2);B(7,3)','B',20),(17010700,11111111,'2021-04-21 12:31:14','[2021-04-21]R(4,5);B(2,8);R(4,7);B(4,6);R(3,7);B(3,6);R(5,6);B(5,5);R(7,4);B(6,5);R(7,5);B(7,3);R(6,4);B(6,3);R(5,4);B(5,3);R(3,4);B(3,10);R(6,7);B(4,2);R(2,3);B(3,1);R(1,2);B(3,5);R(4,4);B(2,4);R(3,3);B(6,6);R(7,6);B(4,10);R(7,8);B(5,10);R(6,10);B(2,0);R(0,1);B(4,3);R(2,2);B(8,3);R(1,1);B(6,8);R(7,7);B(6,9);R(7,9);B(0,10);R(1,0)','R',20),(17010700,11111111,'2021-04-22 04:00:19','[2021-04-22]R(1,6);B(1,9);R(3,7);B(3,8);R(4,7);B(4,8);R(6,7);B(5,9);R(7,8);B(6,10);R(8,9);B(7,10);R(8,10);B(7,9);R(8,8);B(6,8);R(7,7);B(5,7);R(6,6);B(6,5);R(5,6);B(5,5);R(2,6);B(3,6);R(2,7);B(1,5);R(3,4);B(2,5);R(3,5);B(4,2);R(5,3);B(6,1);R(7,2);B(8,0);R(9,1);B(9,0);R(10,0);B(4,4);R(4,3);B(8,2);R(8,1);B(6,3);R(6,2)','R',20),(17010700,11111111,'2021-04-22 11:47:54','[2021-04-22]R(5,5);B(2,9);R(4,8);B(8,1);R(6,6);B(6,2);R(4,3);B(4,4);R(2,5);B(2,6);R(3,5);B(3,4);R(2,4);B(4,5);R(3,6);B(3,3);R(2,3);B(3,1);R(1,2);B(2,0);R(0,1);B(0,0);R(1,0);B(1,1);R(0,2);B(1,3);R(2,2);B(3,10);R(5,9);B(4,10);R(5,10);B(3,7);R(4,6);B(5,8);R(4,9);B(4,7);R(5,7);B(5,6);R(6,5)','R',20),(17010700,11111111,'2021-04-22 13:31:18','[2021-04-22]R(4,6);B(3,8);R(6,6);B(4,9);R(5,8);B(5,9);R(7,8);B(2,8);R(5,4);B(8,0);R(4,3);B(5,0);R(6,1);B(4,8);R(5,3);B(6,7);R(7,6);B(7,7);R(9,6);B(8,7);R(9,7);B(8,6);R(9,5);B(8,5);R(9,4);B(0,9);R(8,4);B(8,9);R(10,8);B(9,10);R(6,10);B(8,8);R(6,9);B(8,10);R(6,8);B(5,7);R(1,9);B(1,8);R(10,9);B(10,10)','B',20),(17010700,11111111,'2021-04-22 15:38:16','[2021-04-22]R(1,7);B(1,9);R(3,7);B(3,8);R(4,7);B(4,8);R(5,7);B(5,8);R(6,7);B(6,8);R(7,7);B(7,8);R(8,8);B(8,7);R(10,6);B(9,5);R(9,6);B(8,6);R(10,4);B(10,5);R(2,9);B(2,8);R(0,10);B(0,9)','B',20),(17010700,17011058,'2021-04-21 12:25:04','[2021-04-21]R(4,4);B(3,6);R(4,7);B(4,6);R(6,5);B(5,6);R(6,6);B(5,7);R(6,7);B(6,8);R(5,8);B(7,5);R(4,10);B(5,9);R(4,9);B(5,3);R(7,3);B(6,4);R(7,4);B(6,3);R(8,1);B(7,2);R(8,2);B(7,1);R(9,0)','R',20),(17011058,11111111,'2021-04-21 08:08:23','[2021-04-21]R(5,5);B(2,9);R(4,7);B(4,8);R(5,8);B(5,7);R(7,6);B(6,7);R(8,7);B(7,7);R(8,6);B(7,8);R(8,8);B(7,9);R(8,9);B(7,10);R(8,10);B(6,5);R(7,5);B(7,4);R(6,6);B(5,6);R(9,3);B(8,4);R(9,4);B(8,5);R(9,5);B(9,2);R(8,3);B(8,2);R(7,3);B(7,2);R(6,4);B(5,3);R(4,4);B(4,3);R(2,4);B(3,4);R(2,5);B(3,5);R(2,6);B(3,6);R(2,7);B(3,2);R(1,3);B(2,1);R(0,2);B(1,0);R(0,1);B(0,0);R(5,2);B(2,2);R(10,1);B(10,2);R(6,2);B(6,3);R(2,3);B(3,3);R(1,1);B(2,0)','B',20),(17011058,11111111,'2021-04-23 03:50:07','[2021-04-23]R(4,6);B(3,8);R(5,7);B(4,9);R(6,8);B(5,10);R(7,9);B(8,1);R(5,4);B(6,2);R(4,3);B(5,1);R(3,2);B(4,0);R(2,1);B(2,2);R(3,1);B(4,4);R(5,3);B(3,3);R(4,2);B(2,0);R(3,0);B(6,10);R(7,10);B(6,9);R(7,8);B(5,8);R(6,7);B(4,7);R(5,6);B(4,5);R(5,5)','R',20),(17011058,11111111,'2021-04-23 03:56:59','[2021-04-23]R(3,7);B(2,9);R(5,6);B(0,10);R(5,8);B(5,7);R(7,6);B(4,8);R(6,8);B(6,9);R(4,9);B(6,7);R(7,7);B(6,6);R(7,5);B(6,5);R(7,4);B(3,10);R(7,3);B(4,10);R(8,8);B(7,8);R(8,7);B(7,2);R(8,2);B(8,1);R(9,1);B(7,10);R(9,9);B(2,10);R(8,10);B(9,0);R(10,0);B(9,8);R(8,9)','R',20),(17011058,11111111,'2021-04-23 04:04:44','[2021-04-23]R(5,6);B(5,5);R(3,6);B(3,5);R(7,4);B(7,3);R(9,2);B(9,1);R(8,2);B(8,1);R(7,2);B(7,1);R(6,2);B(6,1);R(5,2);B(5,1);R(4,2);B(4,1);R(3,2);B(3,1);R(1,2);B(2,2);R(1,3);B(2,3);R(1,4);B(1,6);R(2,4);B(2,0);R(0,1);B(0,0);R(1,0);B(0,2);R(1,1);B(3,3);R(3,4);B(4,3);R(4,4);B(4,5);R(5,3);B(8,3);R(6,4);B(6,5);R(7,5);B(6,6);R(7,6);B(6,7);R(7,7);B(6,8);R(7,8);B(6,9);R(7,9);B(6,10);R(7,10);B(5,4);R(6,3)','R',20),(17011058,11111111,'2021-04-24 07:04:28','[2021-04-24]R(5,5);B(2,9);R(4,8);B(8,1);R(4,4);B(6,1);R(3,3);B(4,1);R(2,2);B(3,0);R(1,1);B(4,5);R(5,4);B(3,4);R(4,3);B(3,10);R(5,9);B(4,7);R(5,7);B(5,6);R(6,6);B(6,5);R(8,4);B(7,5);R(8,5);B(7,6);R(8,6);B(7,7);R(8,7);B(7,8);R(8,8);B(7,9);R(8,9);B(7,10);R(8,10);B(8,3);R(7,4);B(6,4);R(7,3);B(6,3);R(9,1);B(8,2);R(9,2);B(9,3);R(6,2);B(7,2);R(3,8);B(3,7);R(2,7);B(3,5);R(2,5);B(2,4);R(0,5);B(1,6);R(0,7);B(0,6);R(1,5);B(2,6);R(4,6);B(3,6);R(10,2);B(10,3)','B',20),(17011058,17010700,'2021-04-21 12:26:08','[2021-04-21]R(5,4);B(4,6);R(5,5);B(5,6);R(6,6);B(6,5);R(6,7);B(8,4);R(4,5);B(3,6);R(3,5);B(2,6);R(1,7);B(1,6);R(1,5);B(0,6);R(0,7);B(7,5);R(9,4);B(9,3);R(9,5);B(10,3)','B',20),(19011352,11111111,'2021-04-21 14:49:57','[2021-04-21]R(4,4);B(1,10);R(5,4);B(3,9);R(7,4);B(5,8);R(6,4);B(7,7);R(10,4);B(8,7);R(9,4);B(0,10);R(8,4);B(9,7);R(2,4);B(2,10);R(1,4);B(4,9);R(3,4);B(6,8);R(0,4);B(10,7)','B',20),(19011352,11111111,'2021-04-21 14:51:46','[2021-04-21]R(4,1);B(1,10);R(4,2);B(0,10);R(3,9);B(3,8);R(4,8);B(4,7);R(5,6);B(5,7);R(2,8);B(2,9);R(4,3);B(7,6);R(6,6);B(6,7);R(8,6);B(8,5);R(9,4);B(9,5);R(10,5);B(10,4)','B',20),(19011352,11111111,'2021-04-22 01:23:09','[2021-04-22]R(3,3);B(1,10);R(4,4);B(0,10);R(6,4);B(3,9);R(9,3);B(5,8);R(6,5);B(7,7);R(6,2);B(9,6);R(6,8);B(6,7);R(6,6);B(2,10);R(6,3);B(4,9);R(6,0);B(8,7);R(6,1);B(10,6)','B',20);


create table video(
	`id` int primary key AUTO_INCREMENT,
	`title` varchar(100) not null,
    `video_address` varchar(100) not null,
    `img_address` varchar(100) not null,
    `duration` varchar(100) not null,
    `view` int not null default 0,
    `discription` varchar(500)
); 

-- 消息内容表--
CREATE TABLE `content`
(
	`contentID` INT NOT NULL AUTO_INCREMENT,
	`message` TEXT NOT NULL ,
	`createtime` datetime NOT NULL,
	`type` VARCHAR(10) NOT NULL,
	PRIMARY KEY(`contentID`)
);
INSERT INTO `content` VALUES (1,'234234234','2021-04-21 12:22:54','text'),(2,'sd','2021-04-21 12:22:55','text'),(3,'df','2021-04-21 12:22:55','text'),(4,'ds','2021-04-21 12:22:55','text'),(5,'fs','2021-04-21 12:22:56','text'),(6,'dfs','2021-04-21 12:22:56','text'),(7,'df','2021-04-21 12:22:56','text'),(8,'sd','2021-04-21 12:22:56','text'),(9,'fs','2021-04-21 12:22:56','text'),(10,'df','2021-04-21 12:22:56','text'),(11,'sdf','2021-04-21 12:22:56','text'),(12,'sd','2021-04-21 12:22:56','text'),(13,'f','2021-04-21 12:22:57','text'),(14,'sdf','2021-04-21 12:22:57','text'),(15,'s','2021-04-21 12:22:57','text'),(16,'df','2021-04-21 12:22:57','text'),(17,'sdf','2021-04-21 12:22:57','text'),(18,'s','2021-04-21 12:22:57','text'),(19,'df','2021-04-21 12:22:57','text'),(20,'sdf','2021-04-21 12:22:58','text'),(21,'s','2021-04-21 12:22:58','text'),(22,'dfs','2021-04-21 12:22:58','text'),(23,'df','2021-04-21 12:22:58','text'),(24,'sd','2021-04-21 12:22:58','text'),(25,'fs','2021-04-21 12:22:58','text'),(26,'???','2021-04-21 12:23:34','text'),(27,'收到吗？','2021-04-21 12:24:03','text'),(28,'ke','2021-04-21 12:24:24','text'),(29,'积分应该对了。。。','2021-04-21 12:26:28','text'),(30,'开始的时候忘记看了','2021-04-21 12:26:37','text'),(31,'但是加上去了','2021-04-21 12:26:42','text'),(32,'ok','2021-04-21 12:26:47','text'),(33,'你注册几个，然后丢给学妹吧','2021-04-21 12:27:03','text'),(34,'你注册吧','2021-04-21 12:27:08','text'),(35,'你去吧','2021-04-21 12:27:11','text'),(36,'我这还有不少文档','2021-04-21 12:27:18','text'),(37,'没写','2021-04-21 12:27:21','text'),(38,'行吧','2021-04-21 12:27:21','text'),(39,'吐了','2021-04-21 12:27:24','text'),(40,'adfad fasdsadfa sdfsad asdfsdafsadssssssssssssssssssssssssssssssssssssssssssssssss','2021-04-21 13:00:20','text'),(41,'麒麟？','2021-04-21 13:06:54','text'),(42,'Hello World!!!','2021-04-21 15:04:58','text'),(43,'你好呀~','2021-04-21 15:15:26','text'),(44,'我是邓酱','2021-04-21 15:15:36','text'),(45,'hello','2021-04-21 15:15:39','text'),(46,'我是最强的伍六七','2021-04-21 15:15:55','text'),(47,'我才不信呢','2021-04-21 15:16:07','text'),(48,'听说你的战绩11局就赢了1局','2021-04-21 15:16:24','text'),(49,'太菜了','2021-04-21 15:16:31','text'),(50,'你认识邓诗晴吗？都是邓诗晴输的','2021-04-21 15:16:40','text'),(51,'不认识','2021-04-21 15:16:47','text'),(52,'你是刘丁馨吗','2021-04-21 15:16:54','text'),(53,'唯一一局赢得是我自己赢得','2021-04-21 15:16:54','text'),(54,'我是刘丁馨的妹妹 刘小馨','2021-04-21 15:17:09','text'),(55,'是吗？','2021-04-21 15:17:16','text'),(56,'嗯呢','2021-04-21 15:17:20','text'),(57,'那希望你不要和你姐姐学，一定好好做人','2021-04-21 15:17:39','text'),(58,'我要告诉我姐姐 揍死你','2021-04-21 15:17:49','text'),(59,'你太暴力了','2021-04-21 15:17:57','text'),(60,'小妹妹','2021-04-21 15:18:01','text'),(61,'我们玩一局把','2021-04-21 15:18:02','text'),(62,'不要这么暴力','2021-04-21 15:18:05','text'),(63,'一定要好好做人哦~','2021-04-21 15:18:13','text'),(64,'不要做不好的事情','2021-04-21 15:18:21','text'),(65,'先赢过我在说','2021-04-21 15:18:32','text'),(66,'乖~','2021-04-21 15:18:35','text'),(67,'呕','2021-04-21 15:31:38','text'),(68,'Hello World!!!','2021-04-21 15:41:01','text'),(69,'How are you?','2021-04-21 15:42:03','text'),(70,'I\'m fine,thank you,and you?','2021-04-21 15:43:56','text'),(71,'hello 你也喜欢hex棋吗？','2021-04-22 04:55:02','text'),(72,'对啊~','2021-04-22 04:55:09','text'),(73,'你是什么时候开始下棋的啊？','2021-04-22 04:55:33','text'),(74,'我是最近才接触的不是很会玩','2021-04-22 04:55:49','text'),(75,'我也是呢','2021-04-22 04:55:52','text'),(76,'我觉得这个游戏很有意思','2021-04-22 04:56:06','text'),(77,'可以锻炼思维能力','2021-04-22 04:56:19','text'),(78,'我也是 我目前最喜欢玩这个棋了','2021-04-22 04:56:33','text'),(79,'哈哈哈我也是呢','2021-04-22 04:56:38','text'),(80,'不如我们一起来玩一把怎么样','2021-04-22 04:56:42','text'),(81,'好啊~','2021-04-22 04:56:45','text'),(82,'46546','2021-04-22 05:12:24','text'),(83,'123','2021-04-22 05:12:28','text'),(84,'你好','2021-04-22 08:01:15','text'),(85,'学妹在不？','2021-04-22 13:18:46','text'),(86,'咱不要星晨那个传话筒了，都忘了我们这系统能即时通讯了。。。','2021-04-22 13:19:12','text'),(87,'你写文档还有啥问题就直接在这问我吧','2021-04-22 13:20:08','text');


-- 消息索引表-- 
CREATE TABLE `msgindex`
(
	`owner` INT(8) NOT NULL,
	`friend` INT(8) NOT NULL,
	`contentID` INT NOT NULL,
	`receive` TINYINT(1) NOT NULL,
	`unread` TINYINT(1) NOT NULL,
	PRIMARY KEY(`owner`,`friend`,`contentID`),
	FOREIGN KEY(`owner`) REFERENCES `user`(`accountnum`) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY(`friend`) REFERENCES `user`(`accountnum`) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY(`contentID`) REFERENCES `content`(`contentID`) ON UPDATE CASCADE ON DELETE CASCADE
);
INSERT INTO `msgindex` VALUES (111,17010700,40,1,1),(111,17010899,84,1,1),(567,14021,43,1,0),(567,14021,44,1,0),(567,14021,45,0,0),(567,14021,46,0,0),(567,14021,47,1,0),(567,14021,48,1,0),(567,14021,49,1,0),(567,14021,50,0,0),(567,14021,51,1,0),(567,14021,52,1,0),(567,14021,53,0,0),(567,14021,54,0,0),(567,14021,55,1,0),(567,14021,56,0,0),(567,14021,57,1,0),(567,14021,58,0,0),(567,14021,59,1,0),(567,14021,60,1,0),(567,14021,61,0,0),(567,14021,62,1,0),(567,14021,63,1,0),(567,14021,64,1,0),(567,14021,65,0,0),(567,14021,66,1,0),(567,14021,67,0,0),(567,14021,71,0,0),(567,14021,72,1,0),(567,14021,73,1,0),(567,14021,74,0,0),(567,14021,75,1,0),(567,14021,76,1,0),(567,14021,77,1,0),(567,14021,78,0,0),(567,14021,79,1,0),(567,14021,80,0,0),(567,14021,81,1,0),(567,14021,82,0,0),(567,14021,83,1,1),(567,17011058,41,1,0),(14021,567,43,0,0),(14021,567,44,0,0),(14021,567,45,1,0),(14021,567,46,1,0),(14021,567,47,0,0),(14021,567,48,0,0),(14021,567,49,0,0),(14021,567,50,1,0),(14021,567,51,0,0),(14021,567,52,0,0),(14021,567,53,1,0),(14021,567,54,1,0),(14021,567,55,0,0),(14021,567,56,1,0),(14021,567,57,0,0),(14021,567,58,1,0),(14021,567,59,0,0),(14021,567,60,0,0),(14021,567,61,1,0),(14021,567,62,0,0),(14021,567,63,0,0),(14021,567,64,0,0),(14021,567,65,1,0),(14021,567,66,0,0),(14021,567,67,1,0),(14021,567,71,1,0),(14021,567,72,0,0),(14021,567,73,0,0),(14021,567,74,1,0),(14021,567,75,0,0),(14021,567,76,0,0),(14021,567,77,0,0),(14021,567,78,1,0),(14021,567,79,0,0),(14021,567,80,1,0),(14021,567,81,0,0),(14021,567,82,1,1),(14021,567,83,0,0),(123456,19011352,68,1,0),(123456,19011352,69,0,0),(123456,19011352,70,1,1),(17010700,111,40,0,0),(17010700,17011058,1,0,0),(17010700,17011058,2,0,0),(17010700,17011058,3,0,0),(17010700,17011058,4,0,0),(17010700,17011058,5,0,0),(17010700,17011058,6,0,0),(17010700,17011058,7,0,0),(17010700,17011058,8,0,0),(17010700,17011058,9,0,0),(17010700,17011058,10,0,0),(17010700,17011058,11,0,0),(17010700,17011058,12,0,0),(17010700,17011058,13,0,0),(17010700,17011058,14,0,0),(17010700,17011058,15,0,0),(17010700,17011058,16,0,0),(17010700,17011058,17,0,0),(17010700,17011058,18,0,0),(17010700,17011058,19,0,0),(17010700,17011058,20,0,0),(17010700,17011058,21,0,0),(17010700,17011058,22,0,0),(17010700,17011058,23,0,0),(17010700,17011058,24,0,0),(17010700,17011058,25,0,0),(17010700,17011058,26,1,0),(17010700,17011058,27,1,0),(17010700,17011058,28,0,0),(17010700,17011058,29,0,0),(17010700,17011058,30,0,0),(17010700,17011058,31,0,0),(17010700,17011058,32,1,0),(17010700,17011058,33,0,0),(17010700,17011058,34,1,0),(17010700,17011058,35,0,0),(17010700,17011058,36,0,0),(17010700,17011058,37,0,0),(17010700,17011058,38,1,0),(17010700,17011058,39,0,0),(17010700,19011352,85,0,0),(17010700,19011352,86,0,0),(17010700,19011352,87,0,0),(17010899,111,84,0,0),(17011058,567,41,0,0),(17011058,17010700,1,1,0),(17011058,17010700,2,1,0),(17011058,17010700,3,1,0),(17011058,17010700,4,1,0),(17011058,17010700,5,1,0),(17011058,17010700,6,1,0),(17011058,17010700,7,1,0),(17011058,17010700,8,1,0),(17011058,17010700,9,1,0),(17011058,17010700,10,1,0),(17011058,17010700,11,1,0),(17011058,17010700,12,1,0),(17011058,17010700,13,1,0),(17011058,17010700,14,1,0),(17011058,17010700,15,1,0),(17011058,17010700,16,1,0),(17011058,17010700,17,1,0),(17011058,17010700,18,1,0),(17011058,17010700,19,1,0),(17011058,17010700,20,1,0),(17011058,17010700,21,1,0),(17011058,17010700,22,1,0),(17011058,17010700,23,1,0),(17011058,17010700,24,1,0),(17011058,17010700,25,1,0),(17011058,17010700,26,0,0),(17011058,17010700,27,0,0),(17011058,17010700,28,1,0),(17011058,17010700,29,1,0),(17011058,17010700,30,1,0),(17011058,17010700,31,1,0),(17011058,17010700,32,0,0),(17011058,17010700,33,1,0),(17011058,17010700,34,0,0),(17011058,17010700,35,1,0),(17011058,17010700,36,1,0),(17011058,17010700,37,1,0),(17011058,17010700,38,0,0),(17011058,17010700,39,1,0),(17011058,19011352,42,1,0),(19011352,123456,68,0,0),(19011352,123456,69,1,0),(19011352,123456,70,0,0),(19011352,17010700,85,1,1),(19011352,17010700,86,1,1),(19011352,17010700,87,1,1),(19011352,17011058,42,0,0);


-- 触发器-- 
delimiter $$
drop trigger if exists  grade_after_update $$
create trigger `hikers`.`grade_after_update`
 before update  
 on `user` for each row
 begin  
 if (new.`integral`<200 and new.`integral`>=0) 
 then     
		set new.`grade`=('B');
 elseif(new.`integral`<400 and new.`integral`>=200)
 then     
		set new.`grade`=('S');
 elseif(new.`integral`<600 and new.`integral`>=400)
 then     
		set new.`grade`=('G');
 elseif(new.`integral`<800 and new.`integral`>=400)
 then     
		set new.`grade`=('P');
 elseif(new.`integral`<1000 and new.`integral`>=800)
 then     
		set new.`grade`=('D');
 elseif(new.`integral`>=1000)
 then     
		set new.`grade`=('C');
 else 
 signal sqlstate '45000' set message_text ='错误！积分不能为负数！' ;   
end if; 
end$$
delimiter ;